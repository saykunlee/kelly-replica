# 📘 Kelly API 문서 작성 및 관리 규칙

**Version:** 1.0.0  
**작성일**: 2025-11-04  
**목적**: 문서 품질 및 일관성 유지

---

## 📋 목차

1. [폴더 구조 규칙](#폴더-구조-규칙)
2. [파일 네이밍 규칙](#파일-네이밍-규칙)
3. [문서 작성 규칙](#문서-작성-규칙)
4. [문서 통합 규칙](#문서-통합-규칙)
5. [유지보수 규칙](#유지보수-규칙)

---

## 폴더 구조 규칙

### 표준 폴더 구조

```
doc/
├── README.md                    # 문서 센터 메인 (필수)
├── QUICKSTART.md                # 빠른 시작 (선택)
├── CHANGELOG.md                 # 변경 이력 (필수)
│
├── frontend/                    # 프론트엔드 개발자용
│   ├── README.md                # 폴더 안내 (필수)
│   └── [문서들...]
│
├── api/                         # API 레퍼런스
│   ├── README.md                # 폴더 안내 (필수)
│   └── [문서들...]
│
├── backend/                     # 백엔드 개발자용
│   ├── README.md                # 폴더 안내 (필수)
│   └── [문서들...]
│
├── legacy/                      # Legacy 시스템 분석
│   ├── README.md                # 폴더 안내 (필수)
│   └── [문서들...]
│
├── design/                      # 설계 문서
│   ├── README.md                # 폴더 안내 (필수)
│   └── [문서들...]
│
└── scripts/                     # 유틸리티 스크립트
    ├── README.md                # 폴더 안내 (필수)
    └── [스크립트들...]
```

### 폴더 생성 규칙

#### ✅ 새 폴더를 만들어야 하는 경우

1. **명확한 사용자 그룹이 있을 때**
   ```
   예: frontend/ (프론트엔드 개발자)
       backend/ (백엔드 개발자)
       devops/ (DevOps 엔지니어)
   ```

2. **3개 이상의 관련 문서가 있을 때**
   ```
   예: mobile/ (모바일 개발자용 문서 3개 이상)
   ```

3. **문서 카테고리가 명확히 다를 때**
   ```
   예: tutorials/ (튜토리얼)
       guides/ (가이드)
       references/ (레퍼런스)
   ```

#### ❌ 새 폴더를 만들지 말아야 하는 경우

1. **문서가 1-2개뿐일 때**
   ```
   ❌ deployment/ (문서 1개) → doc/ 루트에 배치
   ```

2. **기존 폴더에 속할 수 있을 때**
   ```
   ❌ nextjs/ → frontend/에 통합
   ❌ mysql/ → backend/에 통합
   ```

3. **너무 세분화된 경우**
   ```
   ❌ frontend/react/
   ❌ frontend/vue/
   ✅ frontend/ (프레임워크 구분 없이)
   ```

### 폴더별 필수 파일

**모든 폴더는 반드시 README.md를 포함해야 합니다!**

```markdown
# 폴더명 가이드

폴더 설명 한 문장

## 문서 목록
- [문서1.md] - 설명
- [문서2.md] - 설명

## 빠른 시작
- 초보자: 1 → 2 → 3
- 경험자: 1 → 3

## 관련 링크
- [다른 폴더 문서]
```

---

## 파일 네이밍 규칙

### 기본 원칙

```
kebab-case 사용 (소문자 + 하이픈)
확장자: .md (마크다운)
```

### 파일명 패턴

| 유형 | 패턴 | 예시 |
|-----|------|------|
| **가이드** | `{주제}-guide.md` | `integration-guide.md` |
| **레퍼런스** | `{주제}-reference.md` | `api-reference.md` |
| **튜토리얼** | `{주제}-tutorial.md` | `auth-tutorial.md` |
| **요약/보고서** | `{주제}-summary.md` | `implementation-summary.md` |
| **규칙** | `{주제}-rules.md` | `documentation-rules.md` |

### 특수 파일명 (대문자 사용)

| 파일명 | 용도 | 위치 |
|--------|------|------|
| `README.md` | 폴더 안내 | 모든 폴더 |
| `QUICKSTART.md` | 빠른 시작 | 루트 |
| `CHANGELOG.md` | 변경 이력 | 루트 |
| `CONTRIBUTING.md` | 기여 가이드 | 루트 |

### ✅ 좋은 파일명 예시

```
✅ integration-guide.md         # 명확하고 간결
✅ security-features.md         # 주제가 명확
✅ api-reference.md             # 표준 패턴
✅ QUICKSTART.md                # 특수 파일
```

### ❌ 나쁜 파일명 예시

```
❌ frontend-integration-guide.md  # 폴더에 이미 frontend/
❌ Guide_For_Frontend.md          # 대소문자 혼용, 언더스코어
❌ integration.md                 # 너무 일반적
❌ guide1.md, guide2.md           # 숫자로 구분
❌ 프론트엔드가이드.md             # 영문 사용 (국제화)
```

---

## 문서 작성 규칙

### 문서 구조 (템플릿)

```markdown
# 문서 제목

**Version:** 1.0.0  
**Last Updated:** YYYY-MM-DD  
**Target:** 대상 독자

---

## 📋 목차

1. [섹션1](#섹션1)
2. [섹션2](#섹션2)

---

## 섹션1

내용...

---

## 섹션2

내용...

---

**문서 버전:** 1.0.0  
**마지막 업데이트:** YYYY-MM-DD  
**작성자:** Kelly Development Team
```

### 필수 포함 항목

1. **문서 헤더**
   - 제목 (H1)
   - 버전
   - 작성일/업데이트일
   - 대상 독자

2. **목차**
   - 3개 이상 섹션이 있을 때
   - 앵커 링크 포함

3. **본문**
   - 명확한 섹션 구분 (H2)
   - 코드 예제 (필요 시)
   - 테이블로 정리 (비교 시)

4. **푸터**
   - 문서 버전
   - 마지막 업데이트
   - 작성자

### 작성 스타일

#### ✅ 해야 할 것

```markdown
<!-- 명확한 제목 -->
## API 엔드포인트

<!-- 구체적인 예시 -->
**Example:**
```javascript
const response = await fetch('/api/v1/auth/login');
```

<!-- 테이블로 정리 -->
| 항목 | 설명 |
|-----|------|
| Access Token | 1시간 유효 |

<!-- 체크리스트 -->
- [ ] 항목1
- [ ] 항목2

<!-- 강조 -->
**중요:** 프로덕션에서는 HTTPS 필수!
```

#### ❌ 하지 말아야 할 것

```markdown
❌ 너무 긴 제목 (한 줄 이상)
❌ 코드 예제 없는 추상적 설명
❌ 깊은 중첩 (H5, H6 사용 지양)
❌ 이모지 남용 🎉🎊✨💖
❌ 불필요한 설명 반복
```

---

## 문서 통합 규칙

### 통합 기준

#### ✅ 통합해야 하는 경우

1. **내용이 80% 이상 중복**
   ```
   예: frontend-auth-guide.md + frontend-integration-guide.md
       → integration-guide.md로 통합
   ```

2. **같은 독자를 대상으로 하는 경우**
   ```
   예: frontend-tutorial.md + frontend-examples.md
       → frontend/guide.md로 통합
   ```

3. **순서대로 읽어야 하는 경우**
   ```
   예: step1.md, step2.md, step3.md
       → complete-guide.md로 통합
   ```

4. **문서가 너무 짧은 경우 (100줄 미만)**
   ```
   예: tips.md (50줄) + tricks.md (30줄)
       → best-practices.md로 통합
   ```

#### ❌ 분리해야 하는 경우

1. **대상 독자가 다른 경우**
   ```
   ✅ frontend/guide.md (프론트엔드)
   ✅ backend/guide.md (백엔드)
   ❌ full-stack-guide.md (모두)
   ```

2. **참조 빈도가 다른 경우**
   ```
   ✅ QUICKSTART.md (매일 참조)
   ✅ advanced-topics.md (가끔 참조)
   ```

3. **독립적인 주제인 경우**
   ```
   ✅ security-features.md (보안)
   ✅ performance-guide.md (성능)
   ```

### 통합 프로세스

```
1. 중복 분석
   └─> 내용 비교 및 중복 섹션 파악

2. 통합 문서 작성
   └─> 중복 제거, 내용 재구성

3. 기존 문서 삭제
   └─> 참조 링크 업데이트

4. README 업데이트
   └─> 폴더별 README.md 반영
```

---

## 유지보수 규칙

### 문서 최대 개수 제한

**폴더별 권장 최대 문서 수:**

| 폴더 | 최대 문서 | 현재 |
|-----|----------|------|
| `doc/` (루트) | 5-7개 | 5개 |
| `frontend/` | 3-5개 | 3개 |
| `api/` | 3-4개 | 4개 |
| `backend/` | 3-4개 | 4개 |
| `legacy/` | 4-5개 | 5개 |

**초과 시 조치:**
1. 중복 문서 통합
2. 서브폴더 생성 검토
3. 아카이브 폴더로 이동 (`doc/archive/`)

### 정기 점검 (분기별)

```
1. 문서 중복 확인
   └─> 80% 이상 중복 시 통합

2. Outdated 문서 확인
   └─> 6개월 이상 업데이트 없으면 검토

3. 링크 확인
   └─> 깨진 링크 수정

4. 파일 개수 확인
   └─> 권장 개수 초과 시 통합 검토
```

### 버전 관리

**문서 버전 표기:**
```markdown
**Version:** 1.0.0  
**Last Updated:** 2025-11-04
```

**버전 증가 규칙:**
- **Major (1.0.0 → 2.0.0)**: 구조 대변경, 하위 호환성 없음
- **Minor (1.0.0 → 1.1.0)**: 새로운 섹션 추가, 기존 내용 확장
- **Patch (1.0.0 → 1.0.1)**: 오타 수정, 예제 개선

---

## 문서 생성 체크리스트

### 새 문서 작성 전

- [ ] **필요성 확인**: 기존 문서로 충분하지 않은가?
- [ ] **대상 독자 명확**: 누가 읽을 것인가?
- [ ] **폴더 위치 결정**: 어느 폴더에 속하는가?
- [ ] **파일명 결정**: 네이밍 규칙 준수
- [ ] **중복 확인**: 비슷한 문서가 이미 있는가?

### 작성 중

- [ ] **템플릿 사용**: 표준 문서 구조
- [ ] **목차 작성**: 3개 이상 섹션
- [ ] **예제 포함**: 코드, 쿼리, 명령어
- [ ] **테이블 활용**: 비교 시
- [ ] **링크 추가**: 관련 문서 참조

### 작성 후

- [ ] **README 업데이트**: 폴더 README.md에 추가
- [ ] **CHANGELOG 업데이트**: 주요 변경사항 기록
- [ ] **링크 확인**: 모든 링크가 작동하는가?
- [ ] **리뷰**: 동료 검토 (가능하면)

---

## 문서 통합 가이드

### 통합 판단 기준

**다음 조건 중 2개 이상 해당되면 통합 검토:**

1. ☑️ 내용 중복 50% 이상
2. ☑️ 같은 대상 독자
3. ☑️ 순서대로 읽어야 함
4. ☑️ 둘 다 100줄 미만
5. ☑️ 상호 참조가 많음

### 통합 예시

#### Before (통합 전)
```
frontend/
├── auth-basic.md           (200줄)
├── auth-advanced.md        (150줄)
└── auth-examples.md        (100줄)
```

#### After (통합 후)
```
frontend/
└── auth-guide.md           (450줄)
    ├── 기본 개념
    ├── 고급 기능
    └── 예제
```

### 통합 시 주의사항

1. **목차 재구성**: 논리적 흐름 유지
2. **중복 제거**: 같은 내용은 한 번만
3. **링크 업데이트**: 모든 참조 링크 수정
4. **버전 업데이트**: Major 버전 증가
5. **CHANGELOG 기록**: 통합 사실 명시

---

## 금지 사항

### ❌ 절대 하지 말 것

1. **자동 생성 문서 커밋 금지**
   ```
   ❌ auto-generated-api-docs.md
   ❌ swagger-output.md
   ```
   → OpenAPI JSON만 유지

2. **임시 문서 커밋 금지**
   ```
   ❌ temp.md, draft.md, test.md
   ❌ notes.md, todo.md
   ```

3. **개인 메모 커밋 금지**
   ```
   ❌ my-notes.md
   ❌ personal-setup.md
   ```

4. **중복 문서 방치 금지**
   ```
   ❌ guide.md + guide-v2.md
   ❌ old-api.md + new-api.md
   ```
   → 하나로 통합하거나 archive/로 이동

---

## 예외 규칙

### 분리해도 되는 경우

1. **문서가 매우 긴 경우 (1000줄 이상)**
   ```
   ✅ api-reference.md (1400줄)
   → api/auth-reference.md + api/members-reference.md로 분리 검토
   ```

2. **독립적으로 자주 참조되는 경우**
   ```
   ✅ QUICKSTART.md (독립 문서로 유지)
   ✅ TROUBLESHOOTING.md (독립 문서로 유지)
   ```

3. **언어별 문서**
   ```
   ✅ README.md (한국어)
   ✅ README.en.md (영어)
   ```

---

## 아카이브 규칙

### 문서 아카이브 기준

**다음 경우 `doc/archive/` 폴더로 이동:**

1. **6개월 이상 업데이트 없음** + 참조 빈도 낮음
2. **Deprecated** 기능에 대한 문서
3. **마이그레이션 완료**된 Legacy 문서

### 아카이브 폴더 구조

```
doc/archive/
├── README.md                # 아카이브 안내
├── v1/                      # 버전별 아카이브
│   └── old-auth-guide.md
└── deprecated/              # Deprecated 문서
    └── legacy-api.md
```

---

## 문서 품질 기준

### 최소 품질 요구사항

- [ ] **명확한 제목**: 무엇에 대한 문서인가?
- [ ] **대상 독자 명시**: 누가 읽는가?
- [ ] **목차 있음**: 3개 이상 섹션
- [ ] **예제 포함**: 최소 1개 이상
- [ ] **링크 작동**: 모든 내부 링크 확인
- [ ] **맞춤법 검사**: 오타 없음
- [ ] **날짜 표기**: 작성일 또는 업데이트일

### 고품질 문서 기준

- [ ] **실행 가능한 예제**: 복사/붙여넣기 가능
- [ ] **시각 자료**: 다이어그램, 테이블
- [ ] **FAQ 섹션**: 자주 묻는 질문
- [ ] **관련 링크**: 추가 학습 자료
- [ ] **버전 정보**: 문서 버전 명시
- [ ] **변경 이력**: 주요 업데이트 기록

---

## 실전 예제

### 사례 1: 새 기능 추가 시

**상황:** JWT 2FA (Two-Factor Authentication) 기능 추가

**❌ 잘못된 방법:**
```
doc/
├── frontend-2fa-guide.md          # 새 문서 생성
├── frontend-integration-guide.md  # 기존 문서 유지
└── frontend-auth-guide.md         # 기존 문서 유지
```

**✅ 올바른 방법:**
```
doc/frontend/
└── integration-guide.md            # 기존 문서에 2FA 섹션 추가
    └── 새 섹션: "## 2FA 설정"
```

### 사례 2: 버전 업그레이드 시

**상황:** API v2 릴리스

**❌ 잘못된 방법:**
```
doc/api/
├── reference-v1.md
└── reference-v2.md
```

**✅ 올바른 방법:**
```
doc/api/
├── reference.md          # 최신 버전 (v2)
└── archive/
    └── v1/
        └── reference.md  # 이전 버전
```

### 사례 3: 문서가 너무 긴 경우

**상황:** integration-guide.md가 2000줄

**✅ 분리 방법:**
```
doc/frontend/
├── integration-guide.md     # 핵심 가이드 (800줄)
├── auth-advanced.md         # 고급 인증 (600줄)
└── troubleshooting.md       # 문제 해결 (600줄)
```

---

## 도구 및 자동화

### 링크 체크

```bash
# Markdown 링크 체크 (선택사항)
npm install -g markdown-link-check
find doc -name "*.md" -exec markdown-link-check {} \;
```

### 문서 통계

```bash
# 문서 개수
find doc -name "*.md" | wc -l

# 폴더별 문서 개수
find doc -type d -exec sh -c 'echo -n "{}: "; find "{}" -maxdepth 1 -name "*.md" | wc -l' \;

# 총 라인 수
find doc -name "*.md" -exec wc -l {} + | tail -1
```

---

## 요약

### 핵심 원칙

1. **간결성**: 같은 맥락이면 통합
2. **명확성**: 대상 독자와 목적이 명확해야 함
3. **일관성**: 네이밍, 구조, 스타일 통일
4. **최신성**: 정기적 업데이트
5. **품질**: 실행 가능한 예제 포함

### 문서 수 가이드라인

| 폴더 | 권장 | 최대 | 현재 |
|-----|------|------|------|
| `doc/` (루트) | 3-5개 | 7개 | 5개 ✅ |
| `frontend/` | 2-3개 | 5개 | 3개 ✅ |
| `api/` | 3-4개 | 5개 | 4개 ✅ |
| `backend/` | 3-4개 | 5개 | 4개 ✅ |
| `legacy/` | 3-5개 | 6개 | 5개 ✅ |

**현재 상태: 모든 폴더가 권장 범위 내 ✅**

---

## 체크리스트

### 문서 추가 시

- [ ] 기존 문서로 충분한지 확인
- [ ] 통합 가능한 문서가 있는지 확인
- [ ] 적절한 폴더에 배치
- [ ] 네이밍 규칙 준수
- [ ] README.md 업데이트
- [ ] CHANGELOG.md 업데이트

### 문서 통합 시

- [ ] 중복 내용 제거
- [ ] 논리적 순서로 재구성
- [ ] 모든 참조 링크 업데이트
- [ ] 기존 문서 삭제
- [ ] README.md 업데이트
- [ ] 버전 Major 증가

---

**이 규칙을 준수하여 깔끔하고 관리하기 쉬운 문서 구조를 유지하세요!**

**문서 버전:** 1.0.0  
**마지막 업데이트:** 2025-11-04  
**작성자:** Kelly Development Team


