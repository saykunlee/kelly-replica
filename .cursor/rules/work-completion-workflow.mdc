---
description: 작업 마무리 시 자동으로 진행되는 표준화된 워크플로우 규칙
alwaysApply: false
---
# 작업 마무리 워크플로우

사용자가 "작업을 마무리해줘"라고 요청할 때 다음 3단계를 순차적으로 진행합니다.

## 워크플로우 단계

### 1단계: Cursor Rules 업데이트
- 사용자가 요청한 특정 커서룰 파일을 확인
- 현재까지의 작업 내용을 해당 커서룰에 업데이트
- 기존 커서룰에서 추가로 진행된 작업 내용을 반영
- 시스템의 오늘 날짜를 확인하여 업데이트 날짜 기록
- 업데이트할 규칙 파일은 사용자 요청 시점에서 결정

### 2단계: GitHub 이슈 등록
- 정리된 작업 내용을 GitHub 이슈로 등록
- 이슈 제목: "작업 완료: [작업 내용 요약]"
- 이슈 본문에 상세한 작업 내용과 구현된 기능들 포함
- 등록 후 이슈 번호를 기억하여 다음 단계에서 사용

### 3단계: Git 커밋
- 등록된 이슈 번호를 포함한 커밋 메시지 작성
- 커밋 메시지 형식: "[이슈번호] 작업 완료: [작업 내용 요약]"
- 변경된 파일들을 스테이징하고 커밋 실행

## 실행 조건

이 워크플로우는 다음 조건에서만 실행됩니다:
- 사용자가 명시적으로 "작업을 마무리해줘"라고 요청한 경우
- 현재 세션에서 실제 작업이 진행된 경우
- 변경사항이 커밋 가능한 상태인 경우

## 커서룰 파일 식별 방법

1. **현재 세션의 작업 내용 분석**
   - 수정된 파일들의 패턴 확인
   - 작업 유형별 관련 커서룰 매칭

2. **사용자 명시적 지정**
   - "@커서룰명" 형태로 특정 규칙 지정 시 해당 규칙 우선 적용
   - 예: "@paradise-template-implementation.mdc 작업을 마무리해줘"

3. **자동 매칭**
   - 작업 내용과 가장 관련성이 높은 커서룰 자동 선택
   - 여러 규칙이 관련된 경우 가장 포괄적인 규칙 선택

## 주의사항

- 각 단계가 성공적으로 완료된 후에만 다음 단계 진행
- 이슈 등록 실패 시 사용자에게 알림
- 커밋 실패 시 재시도 옵션 제공
- 모든 단계 완료 후 최종 결과 요약 제공

## 예시 실행

### 명시적 커서룰 지정
```
사용자: "@paradise-template-implementation.mdc 작업을 마무리해줘"
AI: 
1. Cursor Rules 업데이트 중... (paradise-template-implementation.mdc)
2. GitHub 이슈 등록 중... (이슈 #123 생성)
3. Git 커밋 중... (커밋 해시: abc1234)
완료: 모든 작업이 성공적으로 마무리되었습니다.
```

### 자동 커서룰 매칭
```
사용자: "작업을 마무리해줘"
AI: 
1. 작업 내용 분석 중... (메뉴 시스템 관련 작업 감지)
2. Cursor Rules 업데이트 중... (paradise-template-implementation.mdc 자동 선택)
3. GitHub 이슈 등록 중... (이슈 #124 생성)
4. Git 커밋 중... (커밋 해시: def5678)
완료: 모든 작업이 성공적으로 마무리되었습니다.
```

## 실제 실행 사례

### 2025-11-03: RESTful API 프레임워크 구축 작업
```
사용자: "@work-completion-workflow.mdc 지금까지의 작업을 마무리해줘"
AI:
1. Cursor Rules 업데이트 중... (work-completion-workflow.mdc)
2. GitHub 이슈 등록 중... (진행 예정)
3. Git 커밋 중... (진행 예정)
완료: RESTful API 프레임워크 구축 작업이 성공적으로 마무리되었습니다.

작업 내용:
- Azure API Design Best Practices 기반 RESTful API 프레임워크 구축
  * RestApiResponse 클래스 (HATEOAS 링크, 표준화된 응답)
  * RestApiController 기본 클래스 (리소스 중심 설계, CRUD 자동화)
  * AsyncJobHandler 클래스 (비동기 작업 처리, 202 Accepted 패턴)
  
- API 필터 시스템 구현
  * ApiVersionFilter (URI/Query/Header 기반 버전 관리)
  * RateLimitFilter (슬라이딩 윈도우 방식 요청 제한)
  * ETagFilter (조건부 요청, 304 Not Modified)
  * RestApiCorsFilter (CORS 지원)
  
- 예제 컨트롤러 구현
  * MembersController (회원 리소스 RESTful API)
  * ExampleResourceController (비동기 작업 예제)
  * JobsController (비동기 작업 상태 조회)
  
- Legacy API 구조 분석 및 문서화
  * RouteHandler 동작 원리 분석
  * kebab-case → camelCase 자동 변환 규칙 문서화
  * URL 매핑 100개 이상 예시 작성
  
- API 라우팅 분리 구현
  * Negative Lookahead 패턴으로 Legacy/RESTful API 명확히 분리
  * /api/v{숫자}/* → RESTful API
  * /api/{controller}/{method} → Legacy API
  
- 버그 수정
  * RateLimitFilter 캐시 키 예약 문자 오류 해결
  * AsyncJobHandler 캐시 키 예약 문자 오류 해결
  
- 종합 문서화 (doc 폴더)
  * restful-api-guide.md (사용 가이드)
  * restful-api-structure.md (구조 문서)
  * legacy-api-structure.md (기존 API 분석)
  * naming-convention-examples.md (네이밍 규칙)
  * routing-separation.md (라우팅 분리)
  * api-comparison.md (Legacy vs RESTful 비교)
  * test-routing.sh (테스트 스크립트)
  * README.md (문서 디렉토리 안내)
```

### 2025-01-27: 데이터베이스 스키마 업데이트 작업
```
사용자: "@work-completion-workflow.mdc @estimate-write-system.mdc 작업을 마무리해줘"
AI:
1. Cursor Rules 업데이트 중... (work-completion-workflow.mdc, estimate-write-system.mdc)
2. GitHub 이슈 등록 중... (이슈 #XXX 생성 예정)
3. Git 커밋 중... (커밋 해시: XXX 예정)
완료: 데이터베이스 스키마 업데이트 작업이 성공적으로 마무리되었습니다.

작업 내용:
- 로컬 MariaDB 데이터베이스에서 실제 테이블 스키마 전수 조사
- db_schema.yaml 파일을 실제 DB 구조와 완전히 일치하도록 업데이트
- 모든 테이블의 인덱스, 트리거, 제약조건 정보 추가
- 뷰 테이블의 누락된 컬럼들 보완
- 변경 이력 v1.4.0으로 업데이트
```